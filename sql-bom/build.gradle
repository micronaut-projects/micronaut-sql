plugins {
    id 'io.micronaut.build.internal.bom'
}

micronautBom {
    excludeProject.set({ p ->
        p.path.startsWith(':test')
    } as Spec<String>)
}

dependencies {
    api platform("org.jdbi:jdbi3-bom:$jdbiVersion")
    
    constraints {

        // vertx client
        api "io.vertx:vertx-pg-client:$vertxVersion"
        api "io.vertx:vertx-rx-java2:$vertxVersion"
        api "io.vertx:vertx-mysql-client:$vertxVersion"
        api "io.vertx:vertx-codegen:$vertxVersion"

        // jooq
        api "org.jooq:jooq:$jooqVersion"

        // hibernate
        api "org.hibernate:hibernate-core:$hibernateVersion"
        api "org.hibernate:hibernate-jcache:$hibernateVersion"
        api "org.hibernate:hibernate-micrometer:$hibernateVersion"

        // jasync
        api "com.github.jasync-sql:jasync-mysql:$jasyncVersion"
        api "com.github.jasync-sql:jasync-postgresql:$jasyncVersion"

        // jdbc pools
        api "org.apache.commons:commons-dbcp2:$commonsDbcpVersion"
        api "com.zaxxer:HikariCP:$hikariVersion"
        api "org.apache.tomcat:tomcat-jdbc:$tomcatJdbcVersion"
        api "com.oracle.database.jdbc:ucp:$ojdbcVersion"

        // jdbc drivers
        api "org.postgresql:postgresql:$postgresDriverVersion"
        api "com.microsoft.sqlserver:mssql-jdbc:$mssqlDriverVersion"
        api "com.oracle.database.jdbc:ojdbc8:$ojdbcVersion"
        api "org.mariadb.jdbc:mariadb-java-client:$mariadbDriverVersion"
        api "mysql:mysql-connector-java:$mysqlDriverVersion"

        // jdbi
        api "org.jdbi:jdbi3-core"
    }
}
