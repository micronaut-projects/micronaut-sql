plugins {
    id 'io.micronaut.build.internal.test-application'
}

dependencies {
    implementation projects.jooq
    implementation mnData.micronaut.data.tx
    implementation mnData.micronaut.data.r2dbc
    implementation mnR2dbc.r2dbc.postgresql
    implementation mnR2dbc.r2dbc.pool

    implementation projects.tests.commonReactive

    annotationProcessor mnData.micronaut.data.processor

    testImplementation projects.tests.commonTests
    testImplementation libs.testcontainers.postgresql
}

tasks.withType(Test).configureEach {
    // TODO: Re-enable this once we have a Micronaut Data snapshot for 4.0.0
    enabled = false
}
