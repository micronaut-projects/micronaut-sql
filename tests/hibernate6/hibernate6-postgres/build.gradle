plugins {
    id 'io.micronaut.build.internal.test-application'
}

dependencies {
    implementation projects.tests.hibernate6.hibernate6SyncCommon
    testImplementation projects.tests.hibernate6.hibernate6SyncCommonTests

    runtimeOnly libs.managed.postgresql
    testImplementation libs.testcontainers.postgresql
}

configurations {
    all*.exclude module: "javassist"
}

// TODO: Enable native tests once javax.validation gets replaced with jakarta.validation which is required for hibernate6
project.afterEvaluate {
    nativeCompile.enabled = false
    testNativeImage.enabled = false
}
