plugins {
    id 'io.micronaut.build.internal.test-application'
}

dependencies {
    implementation projects.micronautTests.micronautHibernate6.micronautHibernate6ReactiveCommon
    testImplementation projects.micronautTests.micronautCommonTests

    implementation libs.managed.vertx.mssql.client

    // Testcontainers wait function needs the driver
    runtimeOnly libs.managed.mssql.jdbc
}

micronaut {
    testResources {
        // TODO: This is temporary removed from testresources, add once we have sql and data modules fixed
       // additionalModules.add(HIBERNATE_REACTIVE_MSSQL)
    }
}

graalvmNative {
    // TODO: Enable native tests in separate PR
    testSupport = false
    binaries.all {
        buildArgs.addAll("-H:+AddAllCharsets")
    }
}
